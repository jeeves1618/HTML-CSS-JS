<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spring Actuator</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link type="text/css" rel="stylesheet" href="css/topic.css" />
  </head>
  <body>
    <header id="main-header">
      <a href="index.html" id="logo">Spring Boot</a>
      <nav>
        <ul>
          <li><a href="">Books</a></li>
          <li><a href="">Courses</a></li>
        </ul>
      </nav>
      <a href="#side-drawer" class="menu-btn"
        ><span></span><span></span><span></span
      ></a>
    </header>
    <aside id="side-drawer">
      <header id="sub-header">
        <a href="index.html" id="sublogo">Spring Boot and Spring Batch</a>
        <a href="#" class="menu-btn"><span></span><span></span><span></span></a>
      </header>
      <nav>
        <ul>
          <li><a href="">Books</a></li>
          <li><a href="">Courses</a></li>
        </ul>
      </nav>
    </aside>
    <main>
      <h1>Spring Actuator</h1>
      <section id="latest-products">
        <ul>
          <li class="topic-item">
            <article>
              <div class="topic-item-content">
                <h2 class="content">Overview</h2>
                <p>
                  Actuator helps us to monitor and manage the application. We
                  can check the application health and access the application
                  metrics through the end points exposed by actuator. By simply
                  adding the actuator dependency, we get the dev-ops capability
                  out of the box.
                </p>
                <p>
                  All endpoints are prefixed with /actuator. So,
                  http://localhost:8080/actuator/health will tell whether the
                  application is up or not. By default, only /health is exposed.
                </p>
              </div>
            </article>
          </li>
          <li class="topic-item">
            <article>
              <div class="topic-item-content">
                <h2 class="content">/info endpoint</h2>
                <p>
                  /info endpoint can also provide information about your
                  application. It can be enabled by adding the following in the
                  applicaiton.properties file.<br />
                  <code
                    >management.endpoint.web.exposure.include=health, info</code
                  ><br /><code>management.info.env.enabled=true</code><br />
                  <code>management.endpoint.web.exposure.include=*</code> will
                  expose all the 50+ actuator endpoints. By default info
                  endpoint will not show anything. You will have to configure
                  the information in the application.properties under app.*
                  names.
                </p>
              </div>
            </article>
          </li>
          <li class="topic-item">
            <article>
              <div class="topic-item-content">
                <h2 class="content">Securing Endpoints</h2>
                <p>
                  One crude way of securing end points is to disable them. We
                  can disable end points through the exclude property as below.
                  <br />
                  <code>management.endpoint.web.exposure.exclude=info</code>
                </p>
                <p>
                  More realistic way of securing end points is to add spring
                  security. Add the
                  <code>spring-boot-starter-security</code> dependency to the
                  pom.xml file. Adding just the dependency will enable the
                  access only to the user name "user" with the credentials
                  specified as value for the key "Using generated security
                  password:" in the build log.
                </p>
                <p>
                  It will also give a message that "This generated password is
                  for development use only. Your security configuration must be
                  updated before running your application in production."
                </p>
              </div>
            </article>
          </li>
          <li class="topic-item">
            <article>
              <div class="topic-item-content">
                <h2 class="content">Username and Password</h2>
                <p>
                  There are two ways to change the default user and password in
                  the spring security
                </p>
                <ol>
                  <li>Changing in the application properties file</li>
                  <li>Creating custom annotated EnableWebSecurity class</li>
                </ol>
                <p>
                  Configuring our own username and password in the
                  applications.properties file can be done by adding
                  <code>
                    spring.security.user.name=yourusername<br />
                    spring.security.user.password=yourpasswprd</code
                  >
                </p>
              </div>
            </article>
          </li>
          <li class="topic-item">
            <article>
              <div class="topic-item-content">
                <h2 class="content">Run from Command Line</h2>
                <p>
                  There are two ways to run a spring boot application from Java
                  command line.
                </p>
                <ol>
                  <code>
                    <li>Use <strong>java -jar myspringapp.jar</strong></li>
                    <li>
                      Use spring boot maven plugin
                      <strong>mvnw spring-boot:run</strong>
                    </li>
                  </code>
                </ol>
                <p>
                  We can use <code>mvn</code> instead of <code>mvnw</code> if we
                  already have maven installed in the machine. In windows
                  <code>mvn package -e</code> will do the Maven build. In Mac,
                  <code>./mvnw package</code> will do the trick. If you get the
                  error <i>release version nn not supported</i>, then set the
                  JAVA_HOME to the right JDK version using the command
                  <code>setx JAVA_HOME "C:\Program Files\Java\jdk-17.0.1"</code>
                  and set the path by
                  <code>setx PATH "%PATH%;%JAVA_HOME%\bin"</code>. We may have
                  to exit the terminal and come back for the change to take
                  effect.
                </p>
                <p>
                  Now CD into the target folder and <code>ls *.jar</code> to
                  find out the jar file. The command
                  <code>java -jar Template-0.0.1-SNAPSHOT.jar</code> will bring
                  up the spring application.
                </p>
              </div>
            </article>
          </li>
        </ul>
      </section>
    </main>

    <footer></footer>
  </body>
</html>
